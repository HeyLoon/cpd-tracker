# ğŸš€ CPD Tracker v0.6.0 Release Notes

**ç™¼å¸ƒæ—¥æœŸï¼š** 2024-01-XX

---

## ğŸ‰ é‡å¤§æ›´æ–°ï¼šSupabase é›²ç«¯åŒæ­¥æ”¯æ´

v0.6.0 ç‰ˆæœ¬å¸¶ä¾†äº†æœ€å—æœŸå¾…çš„åŠŸèƒ½ - **Supabase é›²ç«¯åŒæ­¥**ï¼ç¾åœ¨ä½ å¯ä»¥é¸æ“‡ä½¿ç”¨ Supabase é›²ç«¯æœå‹™æˆ– PocketBase è‡ªæ¶å¾Œç«¯ï¼Œäº«å—å¤šè£ç½®è³‡æ–™åŒæ­¥ã€‚

---

## âœ¨ æ–°åŠŸèƒ½

### 1. ğŸŒ Supabase é›²ç«¯åŒæ­¥ï¼ˆæ¨è–¦ï¼‰

- **ç„¡éœ€è‡ªæ¶ä¼ºæœå™¨** - 5 åˆ†é˜å®Œæˆè¨­å®š
- **å…è²»å±¤ç´š** - 500MB è³‡æ–™åº« + 1GB æª”æ¡ˆå„²å­˜
- **å…¨çƒ CDN** - å¿«é€Ÿã€ç©©å®šã€å¯é 
- **ç°¡å–®è¨­å®š** - åªéœ€åŸ·è¡Œä¸€æ¢ SQL è…³æœ¬

**ä½¿ç”¨æ–¹å¼ï¼š**
1. å‰å¾€ [supabase.com](https://supabase.com) è¨»å†Š
2. åŸ·è¡Œ `supabase/schema.sql` å»ºç«‹è³‡æ–™è¡¨
3. åœ¨ã€Œè¨­å®šã€é é¢è¼¸å…¥ URL å’Œ Anon Key
4. é–‹å§‹åŒæ­¥ï¼

è©³ç´°æ•™å­¸ï¼š[docs/SUPABASE_SETUP.md](./SUPABASE_SETUP.md)

---

### 2. ğŸ”€ é›™å¾Œç«¯æ”¯æ´

ç¾åœ¨ä½ å¯ä»¥é¸æ“‡ï¼š

| ç‰¹æ€§ | Supabase | PocketBase |
|------|----------|------------|
| è¨­å®šé›£åº¦ | â­ ç°¡å–® | â­â­â­ ä¸­ç­‰ |
| è¨—ç®¡æ–¹å¼ | é›²ç«¯ | è‡ªæ¶ |
| è²»ç”¨ | å…è²»å±¤ç´š | å®Œå…¨å…è²» |
| æ¨è–¦å°è±¡ | ä¸€èˆ¬ä½¿ç”¨è€… | æŠ€è¡“ç©å®¶ |

**å¾Œç«¯é¸æ“‡å™¨ï¼š**
- åœ¨ã€Œè¨­å®šã€é é¢ç›´è§€é¸æ“‡å¾Œç«¯é¡å‹
- è‡ªå‹•åµæ¸¬å·²é…ç½®çš„å¾Œç«¯
- æ”¯æ´ä¸€éµåˆ‡æ›ï¼ˆæœƒæ¸…é™¤èˆŠé…ç½®ï¼‰

---

### 3. ğŸ¨ æ”¹é€²çš„è¨­å®šä»‹é¢

**æ–°çš„è¨­å®šé é¢åŠŸèƒ½ï¼š**
- è¦–è¦ºåŒ–å¾Œç«¯é¸æ“‡å™¨ï¼ˆSupabase/PocketBaseï¼‰
- å³æ™‚é€£ç·šç‹€æ…‹é¡¯ç¤º
- é…ç½®é©—è­‰èˆ‡éŒ¯èª¤æç¤º
- æ•´åˆçš„èªè­‰ç‹€æ…‹ç›£æ§
- æ¸…æ¥šçš„è¨­å®šèªªæ˜èˆ‡é€£çµ

**è¨­å®šæµç¨‹ï¼š**
```
é¸æ“‡å¾Œç«¯ â†’ è¼¸å…¥é…ç½® â†’ å„²å­˜ â†’ å‰å¾€ç™»å…¥ â†’ é–‹å§‹åŒæ­¥
```

---

### 4. ğŸ” å¢å¼·çš„èªè­‰ç³»çµ±

**æ”¯æ´å…©ç¨®èªè­‰æ–¹å¼ï¼š**

**Supabase (JWT):**
- JSON Web Token èªè­‰
- è‡ªå‹• token åˆ·æ–°
- Row Level Security (RLS)
- å…§å»º Email é©—è­‰ï¼ˆå¯é¸ï¼‰

**PocketBase (Token):**
- Cookie-based èªè­‰
- æ‰‹å‹• token ç®¡ç†
- Collection-level æ¬Šé™

**è‡ªå‹•åµæ¸¬ï¼š**
- ç™»å…¥é é¢è‡ªå‹•é¡¯ç¤ºä½¿ç”¨çš„å¾Œç«¯
- çµ±ä¸€çš„ä½¿ç”¨è€…é«”é©—
- æ™ºèƒ½éŒ¯èª¤è¨Šæ¯

---

### 5. ğŸ“Š æ™ºèƒ½åŒæ­¥æœå‹™

**æ–°çš„ Supabase åŒæ­¥æœå‹™ï¼š**
- `src/supabaseSyncService.ts` - å®Œæ•´çš„é›™å‘åŒæ­¥
- èˆ‡ PocketBase åŒæ­¥æœå‹™ç›¸åŒçš„ API
- è‡ªå‹•è³‡æ–™è½‰æ›ï¼ˆDexie â†” Supabaseï¼‰
- è¡çªè§£æ±ºï¼ˆlast write winsï¼‰

**åŒæ­¥åŠŸèƒ½ï¼š**
- âœ… è³‡ç”¢åŒæ­¥ï¼ˆ21 å€‹æ¬„ä½ï¼‰
- âœ… è¨‚é–±åŒæ­¥ï¼ˆ14 å€‹æ¬„ä½ï¼‰
- âœ… ç¶­è­·è¨˜éŒ„ï¼ˆJSONB å„²å­˜ï¼‰
- âœ… é›¢ç·šå„ªå…ˆç­–ç•¥
- âœ… è‡ªå‹•é‡è©¦æ©Ÿåˆ¶

---

## ğŸ”§ æŠ€è¡“æ”¹é€²

### æ¶æ§‹è®Šæ›´

**æ–°å¢æª”æ¡ˆï¼š**
```
src/
â”œâ”€â”€ supabase.ts              # Supabase å®¢æˆ¶ç«¯
â”œâ”€â”€ supabaseSyncService.ts   # Supabase åŒæ­¥æœå‹™
â””â”€â”€ hooks/useSync.ts         # æ›´æ–°ç‚ºæ”¯æ´é›™å¾Œç«¯

supabase/
â””â”€â”€ schema.sql               # PostgreSQL è³‡æ–™åº«çµæ§‹

docs/
â”œâ”€â”€ SUPABASE_SETUP.md        # Supabase è¨­å®šæ•™å­¸
â””â”€â”€ RELEASE_v0.6.0.md        # æœ¬æ–‡ä»¶
```

**æ›´æ–°æª”æ¡ˆï¼š**
- `src/pages/Settings.tsx` - é›™å¾Œç«¯é¸æ“‡å™¨
- `src/pages/LoginPage.tsx` - é›™èªè­‰æ”¯æ´
- `src/components/SyncStatusBar.tsx` - å¾Œç«¯é¡å‹é¡¯ç¤º
- `README.md` - å®Œæ•´çš„é›™å¾Œç«¯æ–‡ä»¶

---

### è³‡æ–™åº«çµæ§‹

**Supabase (PostgreSQL):**
```sql
-- è³‡ç”¢è¡¨ï¼ˆ21 å€‹æ¬„ä½ï¼‰
CREATE TABLE public.assets (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  category TEXT NOT NULL CHECK (category IN ('Tech', 'Music', 'Life', 'Others')),
  price DECIMAL(10,2) NOT NULL,
  -- ... æ›´å¤šæ¬„ä½
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Row Level Security
ALTER TABLE public.assets ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can only access their own assets"
  ON public.assets
  FOR ALL
  USING (auth.uid() = user_id);
```

---

### åŒæ­¥é‚è¼¯

**çµ±ä¸€çš„åŒæ­¥ä»‹é¢ï¼š**
```typescript
interface SyncService {
  sync(direction: SyncDirection): Promise<SyncResult>;
  getStatus(): Promise<SyncStatus>;
  onStatusChange(callback): () => void;
  startAutoSync(interval): void;
  stopAutoSync(): void;
}
```

**è‡ªå‹•é¸æ“‡åŒæ­¥æœå‹™ï¼š**
```typescript
function getSyncService() {
  if (hasSupabaseConfig()) return supabaseSyncService;
  if (hasPocketBaseUrl()) return pbSyncService;
  return null; // ç´”é›¢ç·šæ¨¡å¼
}
```

---

## ğŸ› éŒ¯èª¤ä¿®å¾©

- ä¿®å¾©ï¼šPocketBase é›†åˆæœªå»ºç«‹æ™‚çš„éŒ¯èª¤è¨Šæ¯ä¸æ¸…æ¥š
- ä¿®å¾©ï¼šSettings é é¢é‡æ–°è¼‰å…¥å¾Œç‹€æ…‹ä¸æ­£ç¢º
- ä¿®å¾©ï¼šåŒæ­¥ç‹€æ…‹åˆ—æœªé¡¯ç¤ºå¾Œç«¯é¡å‹
- æ”¹å–„ï¼šèªè­‰ç‹€æ…‹ç›£è½å™¨å¯èƒ½é‡è¤‡è¨»å†Š

---

## ğŸ“š æ–‡ä»¶æ›´æ–°

### æ–°å¢æ–‡ä»¶

1. **SUPABASE_SETUP.md** - å®Œæ•´çš„ Supabase è¨­å®šæ•™å­¸
   - å¸³è™Ÿè¨»å†Š
   - å°ˆæ¡ˆå»ºç«‹
   - SQL è…³æœ¬åŸ·è¡Œ
   - é…ç½®å–å¾—
   - å¸¸è¦‹å•é¡Œ

2. **RELEASE_v0.6.0.md** - æœ¬ç‰ˆæœ¬ç™¼å¸ƒèªªæ˜

### æ›´æ–°æ–‡ä»¶

1. **README.md**
   - æ–°å¢ Supabase ä»‹ç´¹
   - é›™å¾Œç«¯æ¯”è¼ƒè¡¨
   - æ›´æ–°å¿«é€Ÿé–‹å§‹æŒ‡å—
   - æŠ€è¡“æ¶æ§‹åœ–æ›´æ–°

---

## âš¡ æ•ˆèƒ½

- Bundle Size: **1,109 KB** (gzipped: 320 KB)
- æ–°å¢ Supabase å®¢æˆ¶ç«¯ï¼š**+9 KB**
- å»ºç½®æ™‚é–“ï¼š**~2.5s**
- é¦–æ¬¡è¼‰å…¥ï¼š**<1s**

---

## ğŸ”„ å‡ç´šæŒ‡å—

### å¾ v0.5.0 å‡ç´š

**ç„¡éœ€ä»»ä½•æ“ä½œï¼** v0.6.0 å®Œå…¨å‘ä¸‹ç›¸å®¹ï¼š

1. **å·²ä½¿ç”¨ PocketBase** - ç¹¼çºŒæ­£å¸¸é‹ä½œï¼Œç„¡éœ€æ”¹è®Š
2. **ç´”é›¢ç·šä½¿ç”¨** - ç¹¼çºŒæ­£å¸¸é‹ä½œï¼Œç„¡éœ€æ”¹è®Š
3. **æƒ³è©¦ç”¨ Supabase** - ç›´æ¥åœ¨è¨­å®šé é¢é¸æ“‡ Supabase

**è³‡æ–™å®‰å…¨ï¼š**
- æ‰€æœ‰æœ¬åœ°è³‡æ–™ä¿æŒä¸è®Š
- å¯éš¨æ™‚åˆ‡æ›å¾Œç«¯ï¼ˆæœƒæ¸…é™¤èˆŠé…ç½®ï¼‰
- åˆ‡æ›å‰å»ºè­°åŒ¯å‡ºè³‡æ–™å‚™ä»½

---

## ğŸ¯ æœªä¾†è¨ˆç•«

### v0.7.0 (è¦åŠƒä¸­)

- [ ] ç…§ç‰‡ä¸Šå‚³åˆ° Supabase Storage
- [ ] å³æ™‚åŒæ­¥ï¼ˆSupabase Realtimeï¼‰
- [ ] å¤šäººå”ä½œï¼ˆå…±äº«è³‡ç”¢æ¸…å–®ï¼‰
- [ ] è³‡æ–™åŒ¯å…¥/åŒ¯å‡º CSV
- [ ] æ·±è‰²æ¨¡å¼æ”¹é€²

### v0.8.0 (è¦åŠƒä¸­)

- [ ] è³‡ç”¢æ¨™ç±¤ç³»çµ±
- [ ] é€²éšç¯©é¸èˆ‡æœå°‹
- [ ] è‡ªè¨‚æ¬„ä½
- [ ] æ›´å¤šåœ–è¡¨èˆ‡å ±è¡¨

---

## ğŸ™ è‡´è¬

ç‰¹åˆ¥æ„Ÿè¬ï¼š
- **Supabase åœ˜éšŠ** - æä¾›å‡ºè‰²çš„é–‹æº Firebase æ›¿ä»£æ–¹æ¡ˆ
- **PocketBase åœ˜éšŠ** - æŒçºŒç¶­è­·è¼•é‡ç´šå¾Œç«¯è§£æ±ºæ–¹æ¡ˆ
- **æ‰€æœ‰ä½¿ç”¨è€…** - æä¾›å¯¶è²´çš„å›é¥‹èˆ‡å»ºè­°

---

## ğŸ“ å›é¥‹èˆ‡æ”¯æ´

é‡åˆ°å•é¡Œæˆ–æœ‰å»ºè­°ï¼Ÿ

- **GitHub Issues**: [æäº¤å•é¡Œ](https://github.com/HeyLoon/cpd-tracker/issues)
- **Discussions**: [åƒèˆ‡è¨è«–](https://github.com/HeyLoon/cpd-tracker/discussions)
- **Email**: é–‹ Issue è®“æˆ‘å€‘çŸ¥é“

---

## ğŸ“œ å®Œæ•´è®Šæ›´æ—¥èªŒ

### æ–°å¢ (Added)
- âœ… Supabase é›²ç«¯åŒæ­¥æ”¯æ´
- âœ… é›™å¾Œç«¯é¸æ“‡å™¨ (Supabase/PocketBase)
- âœ… Supabase å®¢æˆ¶ç«¯ (`src/supabase.ts`)
- âœ… Supabase åŒæ­¥æœå‹™ (`src/supabaseSyncService.ts`)
- âœ… SQL è³‡æ–™åº«çµæ§‹ (`supabase/schema.sql`)
- âœ… Supabase è¨­å®šæ•™å­¸ (`docs/SUPABASE_SETUP.md`)
- âœ… ç‰ˆæœ¬ç™¼å¸ƒèªªæ˜ (`docs/RELEASE_v0.6.0.md`)

### è®Šæ›´ (Changed)
- ğŸ”„ Settings é é¢æ–°å¢å¾Œç«¯é¸æ“‡å™¨
- ğŸ”„ LoginPage æ”¯æ´é›™èªè­‰ç³»çµ±
- ğŸ”„ useSync hooks è‡ªå‹•åµæ¸¬å¾Œç«¯
- ğŸ”„ SyncStatusBar é¡¯ç¤ºå¾Œç«¯é¡å‹
- ğŸ”„ README.md å®Œæ•´æ›´æ–°

### ä¿®å¾© (Fixed)
- ğŸ› æ”¹å–„éŒ¯èª¤è¨Šæ¯æ¸…æ™°åº¦
- ğŸ› ä¿®å¾©è¨­å®šé é¢ç‹€æ…‹ç®¡ç†
- ğŸ› ä¿®å¾©èªè­‰ç›£è½å™¨å•é¡Œ

### ç¶­è­· (Maintenance)
- ğŸ“¦ Supabase JS SDK 2.95.3
- ğŸ”§ TypeScript é…ç½®å„ªåŒ–
- ğŸ“š æ–‡ä»¶å®Œæ•´æ€§æå‡

---

**äº«å—ä½ çš„æ–°åŒæ­¥åŠŸèƒ½ï¼** ğŸ‰

å¦‚æœä½ å–œæ­¡é€™å€‹å°ˆæ¡ˆï¼Œè«‹çµ¦æˆ‘å€‘ä¸€å€‹ â­ Starï¼
